<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>I Have Never Game</title>
  <link rel="stylesheet" href="style.css" />

</head>
<body>

  <!-- Takaisin-nappi n√§kyy kaikilla sivuilla -->
  <button class="back-button hidden" onclick="goBack()">‚Üê</button>

  <!-- Tervetuloa-n√§ytt√∂ -->
  <div class="screen" id="welcome-screen">
    <h1>Welcome!</h1>
    <p>This is the "I Have Never" game.<br>Hope you enjoy!</p>
    <button onclick="showScreen('instructions')">Instructions</button>
    <button onclick="showScreen('add-players')">Get Started</button>
  </div>

  <!-- Ohjeet-n√§ytt√∂ -->
  <div class="screen hidden" id="instructions">
    <h2>Instructions</h2>
    <p>Each player takes turns saying something they have never done. If other players have done it, they take a point (or a drink üòÑ).</p>
    <button onclick="showScreen('welcome-screen')">Back to Welcome</button>
  </div>

  <!-- Pelaajien lis√§√§minen -->
  <div class="screen hidden" id="add-players">
    <h2>Add players</h2>
    <div id="player-list">
      <!-- Pelaajapainikkeet ilmestyv√§t t√§nne -->
    </div>
    <input type="text" id="player-name-input" placeholder="Enter player name" />
    <button onclick="addPlayer()">Add Player</button>
    <button onclick="showScreen('choose-game')">Next</button>
  </div>

  <!-- Mahdollinen seuraava n√§ytt√∂ (placeholder) -->
  <div class="screen hidden" id="choose-game">
    <h2>Choose game mode</h2>
<p>Select one or more game modes:</p>
<div class="mode-selection">
  <label class="mode-option">
    <input type="checkbox" name="mode" value="workAndSchool" hidden>
    <span>Work & School</span>
  </label>
  <label class="mode-option">
    <input type="checkbox" name="mode" value="embarrassingMoments" hidden>
    <span>Embarrassing & Awkward Moments</span>
  </label>
  <label class="mode-option">
    <input type="checkbox" name="mode" value="travelAdventure" hidden>
    <span>Travel & Adventure</span>
  </label>
  <label class="mode-option">
    <input type="checkbox" name="mode" value="relationshipDating" hidden>
    <span>Relationship & Dating</span>
  </label>
  <label class="mode-option">
    <input type="checkbox" name="mode" value="partyFun" hidden>
    <span>Party & Fun</span>
  </label>
  <label class="mode-option">
    <input type="checkbox" name="mode" value="moneyShopping" hidden>
    <span>Money & Shopping</span>
  </label>
  <label class="mode-option">
    <input type="checkbox" name="mode" value="girlsNight" hidden>
    <span>Girls' Night</span>
  </label>
  <label class="mode-option">
    <input type="checkbox" name="mode" value="all" hidden>
    <span>All (includes all categories)</span>
  </label>
</div>
<br>
<button type="button" onclick="startGame()">Start Game</button>




    <button onclick="showScreen('welcome-screen')">Back to Welcome</button>
  </div>

  <!-- Pelin kysymykset -->
  <div class="screen hidden" id="game-screen">
    <h2 id="game-mode-title">Game Question</h2>
    <p id="game-question"></p>
    <button onclick="nextQuestion()">Next Question</button>
  </div>

  <script>
    let players = [];
    let screenHistory = [];
    let selectedModes = [];
    let currentQuestionIndex = 0;
    let questions = [];

    // Funktio n√§ytt√§m√§√§n ruudut
    function showScreen(id) {
      const currentVisible = document.querySelector('.screen:not(.hidden)');
      if (currentVisible) {
        screenHistory.push(currentVisible.id);
      }

      document.querySelectorAll('.screen').forEach(screen => {
        screen.classList.add('hidden');
      });

      document.getElementById(id).classList.remove('hidden');

      const backButton = document.querySelector('.back-button');
      if (screenHistory.length > 0) {
        backButton.classList.remove('hidden');
      } else {
        backButton.classList.add('hidden');
      }
    }

    function goBack() {
      if (screenHistory.length > 0) {
        const previousScreen = screenHistory.pop();
        document.querySelectorAll('.screen').forEach(screen => {
          screen.classList.add('hidden');
        });
        document.getElementById(previousScreen).classList.remove('hidden');

        const backButton = document.querySelector('.back-button');
        if (screenHistory.length > 0) {
          backButton.classList.remove('hidden');
        } else {
          backButton.classList.add('hidden');
        }
      }
    }

    // Funktio pelaajan lis√§√§miseen
    function addPlayer() {
      const playerNameInput = document.getElementById('player-name-input');
      const playerName = playerNameInput.value.trim();

      if (playerName) {
        players.push(playerName);
        updatePlayerList();
        playerNameInput.value = '';
      } else {
        alert('Please enter a player name.');
      }
    }

    function updatePlayerList() {
      const playerList = document.getElementById('player-list');
      playerList.innerHTML = '';

      players.forEach(player => {
        const playerBtn = document.createElement('button');
        playerBtn.className = 'player-btn';
        playerBtn.innerText = player;
        playerList.appendChild(playerBtn);
      });
    }

    // Funktio pelitilan valitsemiseen ja kysymysten lataamiseen
    function startGame() {
      selectedModes = [];
      document.querySelectorAll('input[name="mode"]:checked').forEach(checkbox => {
        selectedModes.push(checkbox.value);
      });

      if (selectedModes.length > 0) {
        fetchQuestions();
        showScreen('game-screen');
      } else {
        alert('Please select at least one game mode.');
      }
    }

    // Funktio kysymysten hakemiseen JSON-tiedostosta
    function fetchQuestions() {
      fetch('data.json')
        .then(response => response.json())
        .then(data => {
          questions = [];

          // Hakee kysymykset valituilta pelitiloilta
          selectedModes.forEach(mode => {
            if (data[mode]) {
              questions = questions.concat(data[mode]);
            }
          });

          // N√§ytet√§√§n ensimm√§inen kysymys
          showQuestion();
        })
        .catch(error => {
          console.error('Error loading questions:', error);
        });
    }

    // Funktio kysymyksen n√§ytt√§miseen
    function showQuestion() {
      if (currentQuestionIndex < questions.length) {
        document.getElementById('game-question').innerText = questions[currentQuestionIndex];
      } else {
        alert('No more questions!');
      }
    }

    // Funktio seuraavan kysymyksen n√§ytt√§miseen
    function nextQuestion() {
      currentQuestionIndex++;
      showQuestion();
    }
  </script>


</body>
</html>
